<?xml version="1.0" encoding="UTF-8"?>

<configuration scan="true">
  <jmxConfigurator/>

  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%d[%level][%thread][%marker] - %msg (%F:%L\)%n</pattern>
    </encoder>
  </appender>

  <appender name="FILE"
            class="ch.qos.logback.core.rolling.RollingFileAppender">
    <!-- 文件路径 -->
    <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
      <!-- 文件名称 -->
      <fileNamePattern>
        jobs-%d{yyyy-MM-dd}.%i.log
      </fileNamePattern>
      <!-- 文件最大保存历史数量 -->
      <maxHistory>15</maxHistory>
      <maxFileSize>512MB</maxFileSize>

    </rollingPolicy>
    <layout class="ch.qos.logback.classic.PatternLayout">
      <pattern>%d[%level][%thread][%marker] - %msg (%F:%L\)%n</pattern>
    </layout>
  </appender>
  <logger name="org.apache.servicecomb.scheduler.server.jobslogger" level="info" additivity="false">
    <appender-ref ref="FILE"/>
  </logger>
  <root level="INFO">
    <appender-ref ref="STDOUT"/>
  </root>
</configuration>